@using DataLibrary.Services
@inject MatchService matchservice
@inject HamsterService hamsterservice

<div class="row">
    <div class="card col-sm-4">
        <div class="card-header">Matches</div>
        @foreach (var match in matches)
        {
            <div class="card-body">
                <strong>Match Id:</strong> @match.Id
                <strong>Winner:</strong> @hamsters.Where(x=>x.Id == match.WinnerId).First().Name
                <strong>Looser:</strong> @hamsters.Where(x=>x.Id == match.LoserId).First().Name
            </div>
        }
    </div>
</div>


@code {
    [Parameter]
    public Hamster Hamster { get; set; }
    private List<Hamster> hamsters { get; set; }
    private List<Match> matches;

    protected override async Task OnInitializedAsync()
    {
        matches = await matchservice.GetAllMatchesByHamsterId(Hamster.Id);
        hamsters = await hamsterservice.GetAllHamsters();
    }

}
